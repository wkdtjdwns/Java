# 동일성과 동등성

- `Object` 는 동등성 비교를 위한 `equals()` 메서드를 제공함.
- 자바는 두 객체가 같다는 표현을 2가지로 분리해서 제공함.
    - **동일성(identity)**: `==` 연산자를 사용하여 **두 객체의 참조가 동일한 객체**를 가리키고 있는지 확인함.
    - **동등성(equality)**: `equals()` 메서드를 사용하여 **두 객체가 논리적으로 동등**한지 학인함.

# 단어 정리

- **동일**은 **완전히 같음**을 의미함.
- **동등**은 **같은 가치나 수준**을 의미하지만 그 **형태나 외관 등이 완전히 같지는 않을 수 있음**.
- **동일성**은 물리적으로 같은 메모리에 있는 객체 인스턴스인지 참조값을 확인하는 것임.
    - **자바 머신 기준으로 메모리의 참조가 기준**으로 물리적임.
    
    ---
    
- **동등성**은 논리적으로 같은지 확인하는 것임.
    - **보통 사람이 생각하는 논리적인 기준**에 맞추어 비교함.
    
    ---
    

```java
User a = new User("id-100"); // 참조: x001
User b = new User("id-100"); // 참조: x002
```

- 위의 경우는 **물리적으로 다른 메모리에 있는 객체**이지만, **회원 번호를 기준으로 생각해보면 논리적으로 같은 회원**으로 볼 수 있음.
- 따라서 **동일성은 false**, **동등성은 true**임.

## 동일성 비교

- **user1 == user2**
- **x001 == x002 = false**
    
## Obejct.eqauls() 메서드

```java
public boolean eqauls(Object obj) {
        return (this == obj);
}
```

## 동등성 비교

- **user1.eqauls(user2)**
- **return (user1 == user2)**
- **return (x001 == x002) = false**

# Object의 나머지 메서드

- `clone()` → 객체를 복사할 때 사용함. (잘 사용하지는 않음.)
- `hashCode()` → `equals()`와 `hashCode()`는 종종 함께 사용됨. → 컬렉션 프레임워크 때 다룸.
- `getClass()` → Class를 다룰 때 설명함.
- `notify()`, `notifyAll()`, `wait()` → 멀티 쓰레드 용 메서드 → 멀티 쓰레드에서 설명함.

# equals() 메서드를 구현할 때 지켜야 하는 규칙

- **반사성**: 객체는 자기 자신과 동등해야 함. (`x.equals(x)`는 항상 true여야 함.)
  
- **대칭성**: 두 객체가 서로에 대해 동일하다고 판단하면, 이는 양방향으로 동일해야 함.
(`x.equals(y)`가 true이면, `y.equals(x)`도 true여야 함.)

- **추이성**: 만약 한 객체가 두 번째 객체와 동일하고, 두 번째 객체가 세 번째 객체와 동일하다면, 첫 번째 객체와 세 번째 객체는 동일해야 함.
  
- **일관성**: 두 객체의 상태가 변경되지 않는 한, `equals()` 메소드는 항상 동일한 값을 반환해야 함.
  
- **null에 대한 비교**: 모든 객체는 null과 비교했을 때 false를 반환해야 함.
