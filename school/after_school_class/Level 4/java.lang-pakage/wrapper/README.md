# Wrapper 클래스

## 기본형의 한계

- **자바는 객체지향 언어임.**
- **자바 언어 안에 객체가 아닌 int, double 등과 같은 기본형 타입이 있음.**
- **기본형은 객체가 아니기 때문에 다음과 같은 한계가 있음.**
    1. **객체가 아님: 기본형 데이터는 객체가 아니기 때문에, 객체 지향 프로그램의 장점을 살릴 수가 없음.**
        - **예를 들어 객체는 유용한 메서드를 제공할 수 있는데, 기본형은 객체가 아니므로 메서드를 제공할 수 없음.**
        - **추가로 객체 참조가 필요한 컬렉션 프레임워크를 사용할 수 없고, 제네릭도 사용할 수 없음.**
        
        ---
        
    2. **null 값을 가질 수 없음: 기본형 데이터 타입은 null 값을 가질 수 없음.**
        - **때로는 데이터가 ‘없음’ 이라는 상태를 나타내야 할 때가 있는데, 기본형은 항상 값을 가지기 때문에 이러한 표현을 할 수 없음.**
        
        ---
        
- **기본형의 한계를 이해하기 위해, 두 값을 비교해서 다음과 같은 결과를 출력하는 간단한 코드를 작성해볼 것임.**
    - 왼쪽이 더 작다: -1
    - 두 값이 같다: 0
    - 왼쪽이 더 크다: 1
       
# 자바 Wrapper 클래스

- **래퍼 클래스는 쉽게 말해서 기본형의 객체 버전임.**
- 자바에서 기본형에 대응하는 래퍼 클래스를 기본으로 제공함.
    - **`byte` → `Byte`**
    - **`short` → `Short`**
    - **`int` → `Integer`**
    - **`long` → `Long`**
    - **`double` → `Double`**
    - **`char` → `Character`**
    - **`boolean` → `Boolean`**
    
- **자바에서 제공하는 래퍼 클래스의 특징**
    1. **불변 객체임.**
    2. **`equals`로 비교해야 함.**
    
# Wrapper 클래스 생성

## Wrapper 클래스 생성 - 박싱(Boxing)

- **기본형을 래퍼 클래스로 변경하는 것을 마치 박스에 물건을 넣는 것 같다고 해서 박싱(Boxing)이라고 함.**
- **`new Integer(10)`은 사용하면 안 됨. 현재까지 작동은 하지만, 향후 제거될 예정임.**
- **대신에 `Integer.valueOf(10)`을 사용하면 됨.**
    - **내부에서 `new Integer(10)`을 사용해서 객체를 생성하고 돌려줌.**
    
    ---
    
- **추가로 `Integer.valueOf()`에는 성능 최적화 기능이 있음.**
    - **개발자들이 주로 사용하는 -128 ~ 127 범위의 `Integer` 클래스를 미리 생성해줌.**
    - **해당 범위의 값을 조회하면 미리 생성된 `Integer` 객체를 반환함.**
    - **해당 범위의 값이 없으면 `new Integer()`를 호출함.**
        - **마치 문자열 풀과 비슷하게 자주 사용하는 숫자를 미리 생성해두로 재사용함.**

## intValue() - 언박싱(Unboxing)


- **래퍼 클래스에 들어있는 기본형 값을 다시 꺼내는 메서드임.**
- **박스에 들어있는 물건을 꺼내는 것 같다고 해서 언박싱(Unboxing)이라고 함.**


## 비교는 equals() 사용

- **래퍼 클래스는 객체이기 때문에 `==` 비교를 하면 인스턴스의 참조 값을 비교함.**
- **래퍼 클래스는 내부 값을 비교하도록 `equals()`를 재정의 해두었음.**
- **따라서 값을 비교하려면 `equals()`를 사용해야 함.**
    
    ---
    
- **참고로 래퍼 클래스는 객체를 그대로 출력해도 내부에 있는 값을 문자로 출력하도록 `toString()`을 재정의했음**

# Autoboxing

- **boxing: `valueOf()`**
- **unBoxing: `oooValue()`**
- **개발자들이 오랜 기간 개발을 하다 보니 기본형을 래퍼 클래스로 변환하거나 또는 래퍼 클래스를 기본형으로 변환하는 일이 자주 발생헀음.**
- **자바 1.5부터 오토 박싱, 오토 언박싱을 지원함.**
- **오토 박싱과 오토 언박싱은 컴파일러가 개발자 대신 `valueOf()`, `oooValue()` 등의 코드를 추가해주는 기능임.**
- **덕분에 기본형과 래퍼형을 서로 편리하게 변환할 수 있음.**


# Util

- **`valueOf()`: 래퍼 타입을 반환함. (숫자, 문자열 모두 지원)**
- **`parseInt()`: 문자열을 기본형으로 변환함.**
- **`compareTo()` 내 값과 인수로 넘어온 값을 비교함. (내 값이 크면 1, 같으면 0, 작으면 -1)**
- **`Integer.sum()`, `Integer.min()`, `Integer.max()`: `static` 메서드임. (간단한 덧셈, 작은 값, 큰 값 연산을 수행함)**

# 래퍼 클래스 VS 기본 자료형

## Wrapper 클래스가 아닌 기본 자료형을 사용하는 이유

- **기본형 연산이 래퍼 클래스 보다 10여배 이상 빠른 것을 확인할 수 있음. (시스템마다 다름)**
- **기본형은 메모리에서 단순히 그 크기만큼의 공간을 차지함. (int = 4byte와 같음)**
    
    ---
    
- **래퍼 클래스의 인스턴스는 내부에 필드로 가지고 있는 기본형의 값 뿐만 아니라 자바에서 객체 자체를 다루는데 필요한 객체 메타데이터를 포함하므로 더 많은 메모리를 사용하게 됨. (대락 8 ~ 16byte)**
    
    ---
    
- **아래의 연산은 10억 번의 연산을 수행했을 때 0.2초와 3.3초의 차이만큼 발생함.**
- **기본형이든 래퍼 클래스든 반복을 1회로 변환하면 둘 다 매우 빠르게 연산이 수행됨.**
- **일반적으로 애플리케이션을 만드는 관점에서 보면 이런 부분을 최적화해도 사막의 모래알 하나 정도의 차이가 날 뿐임.**
- **CPU연산을 아주 많이 수행하는 특수한 경우이거나, 수만 ~ 수십만 이상 연속해서 연산을 수행해야 하는 경우라면 기본형을 사용해서 최적화를 고려해야 함.**
- **그렇지 않은 일반적인 경우라면 코드를 유지보수하기 더 나은 것을 선택하면 됨.**

    ---
  
- **유지보수 VS 최적화**
  
    - **유지보수와 최적화 중 우선 고려할 사항은 유지보수하기 좋은 코드임.**
    - **특히 최신 컴퓨터는 매우 빠르기 때문에 메모리 상에서 발생하는 연산을 몇 번 줄인다고해도 실절적인 도움이 되지 않는 경우가 많음.**
</aside>
