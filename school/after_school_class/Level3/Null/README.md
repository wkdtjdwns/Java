# Null 객체 사용 시 문제점

- 객체의 null 여부를 확인하는 코드가 너무 많은 경우
- null 자체로도 위험성이 있음.
    
- 자바에서 null을 다루는 것은 매우 중요한 주제임.
- 여러가지 이유로 null을 사용하는 것은 좋지 않음.

# Null의 단점

1. 타입 안정성 저하와 NPE(NullPointerException)의 원인임.
    - 객체지향 언어에서는 각 객체가 특정한 타입을 가지며, 이를 컴파일을 통해서 타입 체크할 수 있음.
    - 하지만 null은 어떤 타입의 변수에서든 사용될 수 있기 때문에 이는 타입 안정성을 저하시키고, NullPointerException의 원인이 됨.
    (NullPointerException은 어디서 오류가 났는지 찾기 힘들 수 있음.)
    
    ---
    
2. 분기문과 SRP 위반
    - null이 존재할 경우 대부분 분기문(if)의 사용으로 이어짐.
    - 분기문의 존재는 여러 책임의 존재를 암시하고, 단일 책임 원칙(SRP)을 위반하게 됨.
    (SRP: 하나의 코드가 하나의 책임을 짐.)
    - 이는 코드의 가독성과 유지보수성을 크게 저하시키게 됨.
    
    ---
    
- 그래서 null을 다룰 때는 조심해야 하며, null을 대체할 수 있는 방법을 고려해야 함.

# Null을 대체하는 법

- Optional 클래스 활용
- null 대신 빈 값을 사용하기
- 따로 클래스를 만들어서 대체하기

# 리펙토링 단계

1. Null 객체 클래스를 작성함.
    - 기존 null을 확인하는 클래스의 하위 클래스로 작성함.
    - **`isNull()`** 메서드 작성: 기존 클래스는 false를, Null 클래스는 true로 반환함.
    
    ---
    
2. Null 치환하기
    - null 코드 부분을 **`isNull()`** 메서드로 치환함.
    
    ---
    
3. Null 객체 클래스를 재정의하여 조건 판단하기
    - **`isNull()`** 메서드를 사용하는 제어문을 찾아서 다음과 같이 수정
        
        ```jsx
        if (obj.isNull() {
        	// Null에 할 일
        } else {
        	obj.doing();
        }
        ```
        
        ---
        
    - Null 클래스 **`doing()`** 메서드를 오버라이딩하여 null에 해당하는 코드 작성
